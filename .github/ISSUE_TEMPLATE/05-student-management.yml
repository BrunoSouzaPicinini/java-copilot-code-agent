name: üë• Gerenciamento de Estudantes
description: Solicita√ß√µes relacionadas √† inscri√ß√£o, remo√ß√£o ou gest√£o de estudantes
title: "[ESTUDANTES] "
labels: ["estudantes", "gest√£o", "professor"]
assignees: ["copilot"]
body:
  - type: markdown
    attributes:
      value: |
        ## üë• Gerenciamento de Estudantes
        
        Use este formul√°rio para solicita√ß√µes relacionadas ao gerenciamento de estudantes nas atividades extracurriculares.

  - type: dropdown
    id: request-type
    attributes:
      label: "üéØ Tipo de Solicita√ß√£o"
      description: "O que voc√™ precisa fazer com estudantes?"
      options:
        - "Inscrever estudante em atividade"
        - "Remover estudante de atividade"
        - "Transferir estudante entre atividades"
        - "Resolver problema de inscri√ß√£o"
        - "Alterar informa√ß√µes de estudante"
        - "Ver lista de estudantes de atividade"
        - "Outros"
    validations:
      required: true

  - type: input
    id: student-name
    attributes:
      label: "üë§ Nome do Estudante"
      description: "Nome completo do estudante (se aplic√°vel)"
      placeholder: "Ex: Jo√£o Silva Santos"
    validations:
      required: false

  - type: input
    id: student-email
    attributes:
      label: "üìß Email do Estudante"
      description: "Email do estudante (se aplic√°vel)"
      placeholder: "Ex: joao.silva@email.com"
    validations:
      required: false

  - type: input
    id: activity-name
    attributes:
      label: "üìö Nome da Atividade"
      description: "Qual atividade est√° envolvida na solicita√ß√£o?"
      placeholder: "Ex: Clube de Xadrez, Aula de Programa√ß√£o"
    validations:
      required: true

  - type: textarea
    id: specific-request
    attributes:
      label: "üìù Descri√ß√£o Espec√≠fica da Solicita√ß√£o"
      description: "Explique exatamente o que precisa ser feito"
      placeholder: |
        Ex: 
        - Preciso inscrever o Jo√£o na aula de programa√ß√£o
        - A Maria precisa sair do clube de arte
        - O Pedro foi inscrito por engano no xadrez
    validations:
      required: true

  - type: textarea
    id: context-reason
    attributes:
      label: "‚ùì Contexto/Motivo"
      description: "Por que essa altera√ß√£o √© necess√°ria?"
      placeholder: "Ex: Estudante mudou de interesse, conflito de hor√°rio, erro na inscri√ß√£o inicial..."
    validations:
      required: true

  - type: dropdown
    id: urgency-level
    attributes:
      label: "‚è∞ Urg√™ncia"
      description: "Qu√£o urgente √© esta solicita√ß√£o?"
      options:
        - "Urgente - Precisa ser resolvido hoje"
        - "Alta - Precisa ser resolvido esta semana"
        - "Normal - Pode ser resolvido quando poss√≠vel"
        - "Baixa - N√£o h√° pressa"
    validations:
      required: true

  - type: checkboxes
    id: verification-items
    attributes:
      label: "‚úÖ Verifica√ß√µes Necess√°rias"
      description: "Que verifica√ß√µes devem ser feitas? (marque as aplic√°veis)"
      options:
        - label: "Verificar se h√° vagas dispon√≠veis na atividade"
        - label: "Confirmar dados do estudante"
        - label: "Verificar se estudante n√£o est√° em atividade conflitante"
        - label: "Verificar autoriza√ß√£o dos pais (se necess√°rio)"
        - label: "Atualizar listas de presen√ßa"

  - type: textarea
    id: special-considerations
    attributes:
      label: "‚ö†Ô∏è Considera√ß√µes Especiais"
      description: "H√° algo especial que devemos saber sobre este estudante ou situa√ß√£o?"
      placeholder: "Ex: Estudante tem necessidades especiais, restri√ß√µes de hor√°rio, quest√µes m√©dicas relevantes..."
    validations:
      required: false

  - type: checkboxes
    id: acceptance-criteria
    attributes:
      label: "‚úÖ Crit√©rios de Aceita√ß√£o"
      options:
        - label: "Altera√ß√£o deve ser refletida no sistema"
          required: true
        - label: "Estudante deve receber confirma√ß√£o (se aplic√°vel)"
          required: true
        - label: "Listas de atividades devem estar atualizadas"
          required: true
        - label: "Professor deve conseguir ver a altera√ß√£o"
          required: true

  - type: markdown
    attributes:
      value: |
        ---
        
        ### ü§ñ Para o Agente Copilot
        
        **Contexto**: Gerenciamento de estudantes no sistema de atividades extracurriculares.
        
        **Tarefas t√≠picas a implementar**:
        1. **Para inscri√ß√µes**: Verificar vagas, validar dados, adicionar √† atividade
        2. **Para remo√ß√µes**: Localizar estudante, remover da atividade, atualizar contadores
        3. **Para transfer√™ncias**: Remover de uma e adicionar em outra atividade
        4. **Para corre√ß√µes**: Identificar problema e aplicar corre√ß√£o adequada
        
        **Arquivos relevantes**:
        - `src/main/java/com/mergingtonhigh/schoolmanagement/domain/entities/Activity.java` (l√≥gica de participantes)
        - `src/main/java/com/mergingtonhigh/schoolmanagement/application/usecases/StudentRegistrationUseCase.java`
        - `src/main/java/com/mergingtonhigh/schoolmanagement/presentation/controllers/ActivityController.java`
        - `src/main/java/com/mergingtonhigh/schoolmanagement/domain/valueobjects/Email.java` (valida√ß√£o de email)
        
        **Valida√ß√µes importantes**:
        - Verificar limite m√°ximo de participantes (`Activity.canAddParticipant()`)
        - Validar formato de email (`Email` value object)
        - Verificar se estudante j√° est√° inscrito (`Activity.isParticipantRegistered()`)
        - Manter integridade dos dados
        
        **Casos especiais a considerar**:
        - Atividade lotada (n√£o pode adicionar mais estudantes)
        - Estudante j√° inscrito na mesma atividade
        - Email inv√°lido ou duplicado
        - Estudante n√£o encontrado para remo√ß√£o
        
        **Testes necess√°rios**:
        - Teste de inscri√ß√£o com sucesso
        - Teste de limite de participantes
        - Teste de remo√ß√£o de estudante
        - Teste de valida√ß√£o de email
        
        **Limita√ß√µes**:
        - Seguir regras de neg√≥cio do dom√≠nio
        - N√£o quebrar funcionalidades existentes
        - Manter valida√ß√µes de seguran√ßa
        - Preservar integridade referencial